# ============================================
# OKX 现货 AI 分析系统 V2.0 - 环境配置模板
# 复制此文件为 .env 并填写实际值
# ============================================

# ===== 基础配置 =====
NODE_ENV=production          # 运行环境: development | production
PORT=6000                    # 服务端口（Nginx反代到6001对外）
LOG_LEVEL=info               # 日志级别: debug | info | warn | error

# ===== 数据库配置 =====
DATABASE_URL=postgresql://ouyiai:password@localhost:5432/ouyiai  # PostgreSQL连接地址
REDIS_URL=redis://localhost:6379/2                                # Redis连接地址（db2隔离）

# ===== 安全密钥 =====
JWT_SECRET=                  # JWT签名密钥（用 openssl rand -hex 32 生成，至少32字符）
ENCRYPTION_KEY=              # AES-256加密密钥（用 openssl rand -hex 16 生成，32字符十六进制）

# ===== AI-1: 豆包（字节跳动火山引擎）=====
DOUBAO_API_KEY=              # 火山引擎API密钥（从 ark.cn-beijing.volces.com 获取）
DOUBAO_ENDPOINT_ID=          # 豆包模型的推理接入点ID（可选，直接用模型名时不需要）

# ===== AI-2: Google Gemini =====
GEMINI_API_KEY=              # Google AI Studio API密钥（从 aistudio.google.com 获取）

# ===== AI-3: ChatGPT（OpenAI）=====
OPENAI_API_KEY=              # OpenAI API密钥（从 platform.openai.com 获取）

# ===== OKX 账户配置（每账户一组，支持多账户）=====
OKX_API_KEY_1=               # OKX账户1 API Key
OKX_API_SECRET_1=            # OKX账户1 API Secret
OKX_PASSPHRASE_1=            # OKX账户1 API Passphrase
# OKX_API_KEY_2=             # OKX账户2（可选）
# OKX_API_SECRET_2=
# OKX_PASSPHRASE_2=

# ===== 通知配置 =====
DINGTALK_WEBHOOK_URL=        # 钉钉机器人Webhook地址（必填！买卖通知用，格式：https://oapi.dingtalk.com/robot/send?access_token=xxx）
DINGTALK_SECRET=             # 钉钉机器人加签密钥（从钉钉开发者平台获取，可选）
TELEGRAM_BOT_TOKEN=          # Telegram机器人Token（可选，格式：123456:ABCdef...）
TELEGRAM_CHAT_ID=            # Telegram聊天ID（可选，机器人要先发消息给用户）
WEBHOOK_URL=                 # 自定义Webhook地址（可选）

# ===== 巨鲸数据源（均为可选，不填则自动降级）=====
ARKHAM_API_KEY=              # Arkham Intelligence密钥（https://platform.arkhamintelligence.com）
GLASSNODE_API_KEY=           # Glassnode密钥（https://studio.glassnode.com）
WHALE_ALERT_API_KEY=         # Whale Alert密钥（https://whale-alert.io）
DUNE_API_KEY=                # Dune Analytics密钥（https://dune.com）

# ===== 风控阈值（有默认值，可不填）=====
WHALE_SCORE_P0_THRESHOLD=85  # P0紧急触发：巨鲸评分高于此值立即处理
WHALE_SCORE_P1_THRESHOLD=60  # P1升级触发：巨鲸评分高于此值使用高级AI模型
VOLATILITY_RATIO_UPGRADE=1.5 # AI模型升级触发：当前波动率/平均波动率超过此倍数
HEALTH_SCORE_PAUSE=50        # 系统暂停阈值：健康评分低于此值暂停交易
HEALTH_SCORE_WARN=80         # 系统警告阈值：健康评分低于此值发送告警
